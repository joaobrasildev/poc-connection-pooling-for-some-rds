proxy:
  listen_addr: "0.0.0.0"
  listen_port: 1433
  instance_id: ""  # Auto-generated if empty (hostname-based)

  # Connection pooling defaults
  session_timeout: 5m         # Max time a client session can last
  idle_timeout: 60s           # Timeout for idle connections in the pool
  queue_timeout: 30s          # Max time a request waits in queue for a connection
  max_queue_size: 1000         # Max number of requests waiting in queue (0 = unlimited)
  pinning_mode: "transaction" # transaction | session

  # Health check
  health_check_interval: 15s
  health_check_port: 8080

  # Metrics
  metrics_port: 9090

redis:
  addr: "redis:6379"
  password: ""
  db: 0
  pool_size: 20
  dial_timeout: 5s
  read_timeout: 3s
  write_timeout: 3s
  heartbeat_interval: 10s
  heartbeat_ttl: 30s

# Fallback mode when Redis is unavailable
fallback:
  enabled: true
  local_limit_divisor: 3  # max_connections / this value = local limit per instance
